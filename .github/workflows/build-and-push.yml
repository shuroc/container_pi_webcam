name: Publish multi-arch image to docker hub
on: # runs whenever a push is made PLUS every tuesday morning
  push:
    branches:
    - "latest"
  schedule:
    - cron: "0 0 * * 2" # runs on every tuesday at 00:00 => patchday

jobs:
  build-and-push-to-registry:
    name: Build docker image and push them to docker hub
    runs-on: ubuntu-20.04
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      - name: Publish multi-arch image to docker hub
        uses: tillhoff/ghaction-docker-build-and-push@v0.0.2
